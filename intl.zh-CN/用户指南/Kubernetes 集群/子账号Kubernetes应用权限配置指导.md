# 子账号Kubernetes应用权限配置指导 {#concept_qlf_lv4_f2b .concept}

本文旨在帮助您了解如何通过容器服务控制台配置子账号对应的Kubernetes RAM集群权限和在集群内相应的Kubernetes RBAC应用权限。

## 配置说明 {#section_ktd_rvn_42b .section}

-   子账号授权页面仅主账号可见。您需要拥有一个阿里云主账号，并有一个或若干个子账号。
-   由于阿里云RAM的安全限制，当您通过容器服务控制台的授权配置涉及到子账号RAM授权的修改时，需要您按照页面上给出的参考策略内容和操作说明，在RAM控制台进行目标子账号的手动授权。

## 操作步骤 {#section_ot2_4v4_f2b .section}

**说明：** 因为子账号授权页面仅主账号可见，您需要用主账号登录容器服务控制台。

1.  登录[容器服务管理控制台](https://cs.console.aliyun.com)。
2.  在Kubernetes菜单下，单击左侧导航栏中的**集群** \> **子账号授权**，进入子账号授权页面。
3.  在子账号列表中选择需要授权的子账号，单击**授权**。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/15116/6471_zh-CN.png)

4.  进入授权资源页面，您可以通过单击表格左上角的加号添加集群或命名空间级别的权限配置，并选择相应的预置角色；也可以单击配置行首的减号删除目标角色。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/15116/7436_zh-CN.png)

    集群和命名空间的预置角色定义可查看下面的角色权限说明：

    | |集群管理权限|应用管理权限|
    |--|------|------|
    |管理员|集群读写权限，可删除、伸缩集群，添加节点|对所有命名空间下资源的读写权限，对集群节点，存储卷，命名空间，配额的读写权限|
    |运维人员|集群读写权限，可删除、伸缩集群，添加节点|对所有命名空间下资源的读写权限，对集群节点，存储卷，命名空间，配额的只读权限|
    |开发人员|集群只读权限|对所有命名空间或所选命名空间下资源的读写权限|
    |受限人员|集群只读权限|对所有命名空间或所选命名空间下资源的只读权限|

5.  完成配置后，如果涉及目标子账号RAM集群权限的变更，在更新授权策略页面会展示配置项对应的Kubernetes集群RAM权限参考配置，您可以根据页面中的指导在RAM控制台完成子账号授权的更新。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/15116/7440_zh-CN.png)


## 补充说明 {#section_q1y_pv4_f2b .section}

为了不影响子账号对当前存量可访问kubernetes集群的正常使用，容器服务控制台会暂时兼容旧的集群访问权限控制，在一段时间对原有子账号可访问kubernetes集群不进行RBAC的应用权限校验，如果您是子账号用户，请您根据下面的集群类型和兼容方式，及时联系主账号进行授权操作。

![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/15116/7444_zh-CN.png)

对于由当前子账号自身创建的存量集群，可以通过在集群详情页面单击**升级当前集群授权信息**，完成集群应用权限的自动升级。

![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/15116/7446_zh-CN.jpg)

在公告期结束后，仍旧没有由主账号授权或进行权限管理升级的子账号，子账号将被禁止访问集群对应的应用控制台。

|兼容集群类型|兼容方式|
|------|----|
|存量子账号创建集群|提示权限管理升级公告，提供一键升级链接，子账号可通过点击升级链接完成应用授权|
|存量RAM授权访问集群|提示权限管理升级公告，请及时联系主账号完成应用授权|
|新建RAM授权访问集群|提示权限管理升级公告，请及时联系主账号完成应用授权|

